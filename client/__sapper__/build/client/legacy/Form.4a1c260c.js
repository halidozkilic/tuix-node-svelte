import{_ as t,a as n,b as e,c as i,i as o,d as r,S as l,s as a,e as s,f as c,m as f,t as u,g as d,h,j as m,k as p,l as v,o as g,p as b,q as D,r as w,u as y,v as I,w as $,x as A,y as N,z,A as E,B as R,C as j,D as L,E as x,F as B,G as k}from"./client.438974d5.js";import V from"./Row.1c9b51dc.js";import{D as C}from"./Cell.5564d286.js";import"./Placeholder.6e5ff3dd.js";function P(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=n(t);if(i){var l=n(this).constructor;o=Reflect.construct(r,arguments,l)}else o=r.apply(this,arguments);return e(this,o)}}function S(t,n,e){var i=t.slice();return i[16]=n[e],i[17]=n,i[18]=e,i}function T(t,n,e){var i=t.slice();return i[19]=n[e],i[18]=e,i}function W(t){var n,e;return n=new V({props:{placeholder:t[0],rowIndex:t[18],rows:t[19]}}),{c:function(){s(n.$$.fragment)},l:function(t){c(n.$$.fragment,t)},m:function(t,i){f(n,t,i),e=!0},p:function(t,e){var i={};1&e&&(i.placeholder=t[0]),4&e&&(i.rows=t[19]),n.$set(i)},i:function(t){e||(u(n.$$.fragment,t),e=!0)},o:function(t){d(n.$$.fragment,t),e=!1},d:function(t){h(n,t)}}}function q(t,n){var e,i,o,r=n[16].title+"",l=n[18],a=function(){return n[4](e,l)},s=function(){return n[4](null,l)};return{key:t,first:null,c:function(){e=m("div"),i=p(r),o=v(),this.h()},l:function(t){e=g(t,"DIV",{class:!0,"data-id":!0,style:!0});var n=b(e);i=D(n,r),o=w(n),n.forEach(y),this.h()},h:function(){I(e,"class","cell svelte-zdflb6"),I(e,"data-id",n[16].id),$(e,"background-color",n[16].color),this.first=e},m:function(t,n){A(t,e,n),N(e,i),N(e,o),a()},p:function(t,e){l!==(n=t)[18]&&(s(),l=n[18],a())},d:function(t){t&&y(e),s()}}}function F(t){for(var n,e,i,o,r=[],l=new Map,a=t[2],s=[],c=0;c<a.length;c+=1)s[c]=W(T(t,a,c));for(var f=function(t){return d(s[t],1,1,(function(){s[t]=null}))},h=t[3],p=function(t){return t[16].id},D=0;D<h.length;D+=1){var $=S(t,h,D),N=p($);l.set(N,r[D]=q(N,$))}return{c:function(){n=m("div");for(var t=0;t<s.length;t+=1)s[t].c();e=v(),i=m("div");for(var o=0;o<r.length;o+=1)r[o].c();this.h()},l:function(t){n=g(t,"DIV",{class:!0});for(var o=b(n),l=0;l<s.length;l+=1)s[l].l(o);o.forEach(y),e=w(t),i=g(t,"DIV",{class:!0,id:!0});for(var a=b(i),c=0;c<r.length;c+=1)r[c].l(a);a.forEach(y),this.h()},h:function(){I(n,"class","zone svelte-zdflb6"),I(i,"class","drag-list svelte-zdflb6"),I(i,"id","dragList")},m:function(t,l){A(t,n,l);for(var a=0;a<s.length;a+=1)s[a].m(n,null);A(t,e,l),A(t,i,l);for(var c=0;c<r.length;c+=1)r[c].m(i,null);o=!0},p:function(t,e){var o=z(e,1)[0];if(5&o){var c;for(a=t[2],c=0;c<a.length;c+=1){var d=T(t,a,c);s[c]?(s[c].p(d,o),u(s[c],1)):(s[c]=W(d),s[c].c(),u(s[c],1),s[c].m(n,null))}for(x(),c=a.length;c<s.length;c+=1)f(c);E()}10&o&&(h=t[3],r=R(r,o,p,1,t,h,l,i,B,q,null,S))},i:function(t){if(!o){for(var n=0;n<a.length;n+=1)u(s[n]);o=!0}},o:function(t){s=s.filter(Boolean);for(var n=0;n<s.length;n+=1)d(s[n]);o=!1},d:function(t){t&&y(n),j(s,t),t&&y(e),t&&y(i);for(var o=0;o<r.length;o+=1)r[o].d()}}}function G(t,n,e){var i=new C;i.activeArea=25;var o,r,l=null,a=[],s=[{id:1,title:"Drag Item 1",color:"#721919"},{id:2,title:"Drag Item 2",color:"#1f621f"},{id:3,title:"Drag Item 3",color:"#873e75"},{id:4,title:"Drag Item 4",color:"#424242"},{id:10,title:"Drag Item 4",color:"#22228d"}],c=[];function f(t,n){e(0,l={item:i.dragData.item,placeholder:!0,color:"rgb(124 124 124 / 72%)",position:[t,n]})}function u(){null===l.position[1]?c.splice(l.position[0],0,[l]):c[l.position[0]].splice(l.position[1],0,l),e(2,c)}function d(t,n){l&&(l&&null===l.position[1]?c.splice(l.position[0],1):c[l.position[0]].splice(l.position[1],1),e(2,c),e(0,l=null))}function h(t){i.dragData.item=s.find((function(n){return n.id===Number(t.target.getAttribute("data-id"))}))}function m(t){var n,e=i.elements[1]&&(i.elements[1].classList.contains("field")||i.elements[1].classList.contains("placeholder")),a=i.elements[1]&&i.elements[1].classList.contains("zone");if(e&&!r){var s,c,h=i.left<25||i.left>i.elements[1].offsetWidth-25;if(i.elements[1].getAttribute("data-placeholder"))return;if(c=function(t,n,e){var i=t[1].closest(".row");return e?Number(i.getAttribute("id")):n>i.offsetHeight-this.activeArea?Number(i.id)+1:n<this.activeArea?Number(i.id):null}(i.elements,i.top,h),null===c)return void(null!==l&&d());h?(n=i.elements,s=i.left>n[1].offsetWidth/2?Number(n[1].id)+1:n[2].classList.contains("field")?Number(n[2].id):Number(n[1].id)):s=null,l||(f(c,s),u(),r=!0,clearTimeout(o),o=setTimeout((function(){r=!1}),800));var m=(c!==l.position[0]||s!==l.position[1])&&!i.elements[1].getAttribute("data-placeholder");l&&m&&d()}!e&&l&&d(),!e&&a&&(f(0,null),u())}function p(t){l&&l.position&&e(2,c[l.position[0]][l.position[1]||0]=l.item,c),e(0,l=null)}return L((function(){a.forEach((function(t){i.setElement(t,{onDragStart:h,onDrag:m,onDrop:p})}))})),[l,a,c,s,function(t,n){k[t?"unshift":"push"]((function(){a[n]=t,e(1,a),e(3,s)}))}]}var H=function(n){t(s,l);var e=P(s);function s(t){var n;return i(this,s),n=e.call(this),o(r(n),t,G,F,a,{}),n}return s}();export{H as default};

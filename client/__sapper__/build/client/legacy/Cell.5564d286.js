import{J as t,c as n,_ as e,a as o,b as a,i as r,d as s,S as i,s as l,j as c,k as h,l as u,o as d,p as f,q as g,u as p,r as D,v,w as m,x as y,y as k,z as E,K as w,n as b,D as S,G as x}from"./client.438974d5.js";var L=function(){function e(){n(this,e),draggable.createDraggableContent({draggableElementSelector:".my-apples",dropAreaSelector:".my-apple-container",eventPrefix:"apple"}),draggable.on("dragstart:apple",(function(t){})),this.ops=new Map,this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDrop=this.onDrop.bind(this),this.dragData,this.placeHolder,this.elements,this.currentElement,this.handle}return t(e,[{key:"setElement",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.ops.set(t,{hooks:n}),this.handle=e,(this.handle||t).setAttribute("draggable",!0),(this.handle||t).addEventListener("dragstart",this.onDragStart)}},{key:"onDragStart",value:function(t){t.preventDefault();var n=this.ops.get(t.target);this.currentElement=this.handle||t.target,window.addEventListener("pointermove",this.onDrag),window.addEventListener("pointerup",this.onDrop);var e=(this.handle?this.handle.closest(".myitem"):t.target).cloneNode(!0);e.classList.add("clone"),this.dragData={clone:e},n&&n.hooks&&n.hooks.onDragStart&&"function"==typeof n.hooks.onDragStart&&n.hooks.onDragStart(t)}},{key:"onDrag",value:function(t){var n=this.ops.get(this.currentElement);this.dragData&&this.dragData.clone&&!this.dragData.clone.parentNode&&document.body.appendChild(this.dragData.clone);var e=this.handle||this.dragData.clone;this.dragData&&this.dragData.clone&&(this.dragData.clone.style.left=t.clientX-e.offsetWidth/2+"px",this.dragData.clone.style.top=t.clientY-e.offsetHeight/2+"px"),this.elements=document.elementsFromPoint(t.clientX,t.clientY);var o=this.elements[1].getBoundingClientRect();this.left=t.clientX-o.left,this.top=t.clientY-o.top,n&&n.hooks&&n.hooks.onDrag&&"function"==typeof n.hooks.onDrag&&n.hooks.onDrag(t)}},{key:"onDrop",value:function(t){window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("pointerup",this.onDrop);var n=this.ops.get(this.currentElement);this.currentElement=null,this.dragData&&this.dragData.clone&&this.dragData.clone.remove(),this.dragData=null,n&&n.hooks&&n.hooks.onDrop&&"function"==typeof n.hooks.onDrop&&n.hooks.onDrop(t)}}]),e}();function R(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=o(t);if(n){var s=o(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return a(this,e)}}function _(t){var n,e,o,a,r,s=t[0].title+"";return{c:function(){n=c("div"),e=c("div"),o=h("[=]"),a=u(),r=h(s),this.h()},l:function(t){n=d(t,"DIV",{class:!0,style:!0,id:!0});var i=f(n);e=d(i,"DIV",{class:!0});var l=f(e);o=g(l,"[=]"),l.forEach(p),a=D(i),r=g(i,s),i.forEach(p),this.h()},h:function(){v(e,"class","handle svelte-zdstf8"),v(n,"class","cell field svelte-zdstf8"),m(n,"background-color",t[0].color),v(n,"id",t[1])},m:function(s,i){y(s,n,i),k(n,e),k(e,o),t[4](e),k(n,a),k(n,r),t[5](n)},p:function(t,e){var o=E(e,1)[0];1&o&&s!==(s=t[0].title+"")&&w(r,s),1&o&&m(n,"background-color",t[0].color),2&o&&v(n,"id",t[1])},i:b,o:b,d:function(e){e&&p(n),t[4](null),t[5](null)}}}function z(t){}function C(t){}function j(){}function B(t,n,e){var o,a=n.row,r=n.id,s=new L,i=[];return S((function(){i.forEach((function(t){s.setElement(t,{onDragStart:z,onDrag:C,onDrop:j},o)}))})),t.$$set=function(t){"row"in t&&e(0,a=t.row),"id"in t&&e(1,r=t.id)},[a,r,i,o,function(t){x[t?"unshift":"push"]((function(){e(3,o=t)}))},function(t){x[t?"unshift":"push"]((function(){i[r]=t,e(2,i),e(1,r)}))}]}var P=function(t){e(a,i);var o=R(a);function a(t){var e;return n(this,a),e=o.call(this),r(s(e),t,B,_,l,{row:0,id:1}),e}return a}(),X=Object.freeze({__proto__:null,default:P});export{P as C,L as D,X as a};

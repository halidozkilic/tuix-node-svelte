import{S as t,i as e,s as o,e as s,f as n,g as a,h as r,j as i,k as l,o as h,l as d,p as c,q as g,r as p,u as D,E as u,n as f,y as m,B as v}from"./client.d27fdee3.js";class E{constructor(){draggable.createDraggableContent({draggableElementSelector:".my-apples",dropAreaSelector:".my-apple-container",eventPrefix:"apple"}),draggable.on("dragstart:apple",(t=>{})),this.ops=new Map,this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDrop=this.onDrop.bind(this),this.dragData,this.placeHolder,this.elements,this.currentElement,this.handle}setElement(t,e,o=null){this.ops.set(t,{hooks:e}),this.handle=o,(this.handle||t).setAttribute("draggable",!0),(this.handle||t).addEventListener("dragstart",this.onDragStart)}onDragStart(t){t.preventDefault();const e=this.ops.get(t.target);this.currentElement=this.handle||t.target,window.addEventListener("pointermove",this.onDrag),window.addEventListener("pointerup",this.onDrop);const o=(this.handle?this.handle.closest(".myitem"):t.target).cloneNode(!0);o.classList.add("clone"),this.dragData={clone:o},e&&e.hooks&&e.hooks.onDragStart&&"function"==typeof e.hooks.onDragStart&&e.hooks.onDragStart(t)}onDrag(t){const e=this.ops.get(this.currentElement);this.dragData&&this.dragData.clone&&!this.dragData.clone.parentNode&&document.body.appendChild(this.dragData.clone);const o=this.handle||this.dragData.clone;this.dragData&&this.dragData.clone&&(this.dragData.clone.style.left=t.clientX-o.offsetWidth/2+"px",this.dragData.clone.style.top=t.clientY-o.offsetHeight/2+"px"),this.elements=document.elementsFromPoint(t.clientX,t.clientY);let s=this.elements[1].getBoundingClientRect();this.left=t.clientX-s.left,this.top=t.clientY-s.top,e&&e.hooks&&e.hooks.onDrag&&"function"==typeof e.hooks.onDrag&&e.hooks.onDrag(t)}onDrop(t){window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("pointerup",this.onDrop);const e=this.ops.get(this.currentElement);this.currentElement=null,this.dragData&&this.dragData.clone&&this.dragData.clone.remove(),this.dragData=null,e&&e.hooks&&e.hooks.onDrop&&"function"==typeof e.hooks.onDrop&&e.hooks.onDrop(t)}}function k(t){let e,o,m,v,E,k=t[0].title+"";return{c(){e=s("div"),o=s("div"),m=n("[=]"),v=a(),E=n(k),this.h()},l(t){e=r(t,"DIV",{class:!0,style:!0,id:!0});var s=i(e);o=r(s,"DIV",{class:!0});var n=i(o);m=l(n,"[=]"),n.forEach(h),v=d(s),E=l(s,k),s.forEach(h),this.h()},h(){c(o,"class","handle svelte-zdstf8"),c(e,"class","cell field svelte-zdstf8"),g(e,"background-color",t[0].color),c(e,"id",t[1])},m(s,n){p(s,e,n),D(e,o),D(o,m),t[4](o),D(e,v),D(e,E),t[5](e)},p(t,[o]){1&o&&k!==(k=t[0].title+"")&&u(E,k),1&o&&g(e,"background-color",t[0].color),2&o&&c(e,"id",t[1])},i:f,o:f,d(o){o&&h(e),t[4](null),t[5](null)}}}function w(t){}function b(t){}function y(){}function S(t,e,o){let{row:s}=e,{id:n}=e;const a=new E;let r,i=[];return m((()=>{i.forEach((t=>{a.setElement(t,{onDragStart:w,onDrag:b,onDrop:y},r)}))})),t.$$set=t=>{"row"in t&&o(0,s=t.row),"id"in t&&o(1,n=t.id)},[s,n,i,r,function(t){v[t?"unshift":"push"]((()=>{r=t,o(3,r)}))},function(t){v[t?"unshift":"push"]((()=>{i[n]=t,o(2,i),o(1,n)}))}]}class L extends t{constructor(t){super(),e(this,t,S,k,o,{row:0,id:1})}}var x=Object.freeze({__proto__:null,default:L});export{L as C,E as D,x as a};
